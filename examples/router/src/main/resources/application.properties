# Production Configuration
# jsapdu-over-ip Router - WebSocket-based message router with persistent storage

# Database Configuration - PostgreSQL with MyBatis
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=router
quarkus.datasource.password=router
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/jsapdu_router
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.port=5432

# Flyway Configuration - Database migrations
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0

# OpenAPI Configuration
quarkus.smallrye-openapi.path=/openapi
quarkus.smallrye-openapi.info-title=jsapdu-over-ip Router API
quarkus.smallrye-openapi.info-version=0.1.0

# Swagger UI Configuration
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.always-include=true

# SmallRye Health Configuration
# Health checks exposed at /healthz for external systems
quarkus.smallrye-health.root-path=/healthz

# CORS Configuration
# Allow all origins for development - restrict in production
quarkus.http.cors.origins=/.*/
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.access-control-allow-credentials=true
quarkus.http.cors.access-control-max-age=24H

# ================================
# Observability Configuration
# ================================

# Logging Configuration - JSON structured logging
quarkus.log.console.json=true
quarkus.log.console.json.pretty-print=false
quarkus.log.console.json.additional-field."service.name".value=jsapdu-router
quarkus.log.console.json.additional-field."service.version".value=0.1.0
quarkus.log.level=INFO
quarkus.log.category."app.aoki.quarkuscrud".level=INFO

# Metrics Configuration - Micrometer + Prometheus
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.http-client.enabled=true
quarkus.micrometer.binder.vertx.enabled=true
